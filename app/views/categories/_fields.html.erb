<%= render 'shared/error_messages', object: f.object %>
  <%= f.hidden_field :published, value: true %>

<div class="form-group">
  <%= f.label :name %>
  <%= f.text_field :name, class: "form-control" %>
</div>

<div class="form-group">
  <%= f.label :description %>
  <%= f.text_area :description, rows: 5, class: "form-control" %>
</div>

<div class="form-group">
  <%= f.label :product_nr_prefix %>
  <%= f.text_field :product_nr_prefix, class: "form-control" %>
</div>

<div class="form-group">
  <%= f.label :background_color %>
  <%= f.color_field :background_color, class: "form-control" %>
</div>

<div class="form-group">
  <%= f.label :logo %>
  <%= f.file_field :logo %>
</div>


<div class="form-group">
  <%= f.label :pictures %>

  <%# If there are pictures list them all and add a checkbox beside to delete them %>
  <div>
    <% @category.attached_assets.each do |asset| %>
      <%= f.fields_for :attached_assets, asset do |builder| %>
      <% unless @category.new_record? %>
        <%= builder.check_box '_destroy' %>
        <%= builder.label :_destroy, asset.asset_file_name %>
      <% end %>
    <% end %>
  <% end %>

  <% if @category.new_record? || @category.attached_assets.size == 0 %>
    <%= f.file_field :attached_assets, multiple: true, name: "category[attached_assets_attributes][][asset]" %>
  <% else %>
    <%= f.file_field :attached_assets, name: "category[attached_assets_attributes][#{@category.attached_assets.size}][asset]" %>
  <% end %>

    <%#= file_field_tag('category_attached_assets_asset', multiple: true, name: "category[attached_assets_attributes][][asset]") %>
  </div>
</div>


<div class="form-group">
  <%= f.label  "Unterkategorie von" %>
  <%= select(:category, :parent_id, categories_for_select, include_blank: "---") %>
</div>




